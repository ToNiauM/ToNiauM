## üó∫Ô∏è Roadmap Completo (TRIX Social + Plataforma de Criadoras com Paywall)

### Vis√£o do Produto (o que existir√° ao final)
Ao final do projeto, o TRIX ser√° uma plataforma social ‚Äúestilo Instagram‚Äù com um m√≥dulo adicional de **monetiza√ß√£o por acesso**, permitindo que perfis e m√≠dias privadas sejam liberados automaticamente **somente ap√≥s pagamento confirmado**.

**Estado final (entreg√°veis principais):**
- Rede social completa (feed, explore, likes, coment√°rios, DMs, notifica√ß√µes)
- Perfis p√∫blicos (vitrine) + perfis privados (paywall)
- Pagamentos Pix via gateway (com webhooks)
- ‚ÄúEntitlements‚Äù (permiss√µes) no banco: quem pagou v√™, quem n√£o pagou n√£o v√™
- Acesso ao conte√∫do privado dispon√≠vel no **web mobile** (mobile-first) e desktop
- √Årea Admin (modera√ß√£o, auditoria, relat√≥rios)
- Relat√≥rios financeiros e operacionais por per√≠odo
- Hardening de produ√ß√£o: seguran√ßa, observabilidade, performance, CI/CD

---

## Fase 0 ‚Äî Base e Governan√ßa (OK / Ajustes finais)
- Padroniza√ß√£o de arquitetura (Application Factory, Blueprints, services/helpers)
- `README.md` e `claude.md` com regras do projeto e conven√ß√µes
- Defini√ß√£o de pap√©is (User, Creator, Admin) e permiss√µes
- Logs e trilha de auditoria m√≠nima (a√ß√µes sens√≠veis)

---

## Fase 1 ‚Äî Core Social (OK)
- Feed baseado em following
- Follow/unfollow + follow requests (contas privadas)
- Likes e coment√°rios via AJAX
- Explore + filtros de privacidade
- Perfil com grid e modal de post

---

## Fase 2 ‚Äî Comunica√ß√£o e Privacidade (OK)
- DMs 1:1 (inbox + chat)
- Notifica√ß√µes (likes, follows, requests, accepts)
- Controle de acesso completo para contas privadas em todas as intera√ß√µes

---

## Fase 3 ‚Äî Monetiza√ß√£o por Acesso (Paywall) (NOVA ‚Äî Priorit√°ria)
### 3.1 ‚Äî Modelo de Neg√≥cio e Regras de Acesso
- Definir **tipos de produto**:
  - Acesso ao perfil privado (ex.: por 7/30 dias) OU
  - Assinatura recorrente (mensal) OU
  - Compra avulsa de m√≠dia (item a item)
- Criar conceito de **Entitlement** (permiss√£o):
  - `user_id` (comprador)
  - `creator_id` (perfil liberado)
  - `status` (active/expired/refunded)
  - `starts_at`, `ends_at`
  - `source` (pix/recurring/one_time)
- Regra central:
  - Conte√∫do privado s√≥ √© entregue se `entitlement.status=active` e dentro da janela.

### 3.2 ‚Äî Integra√ß√£o Pix via Gateway (Webhooks)
- Criar camada de pagamentos:
  - Ordem de pagamento (invoice/charge)
  - Status (pending/paid/failed/refunded)
- Endpoint de webhook:
  - Validar assinatura do webhook (seguran√ßa)
  - Atualizar status da transa√ß√£o
  - Ao confirmar `paid`, criar/ativar **entitlement**
- Idempot√™ncia:
  - Evitar duplicidade (webhook pode repetir)

### 3.3 ‚Äî Bloqueio e Libera√ß√£o Autom√°tica do Perfil
- Implementar ‚Äúgates‚Äù (travas) em:
  - P√°gina de perfil privado (bio completa, grid privado)
  - Fotos/m√≠dias marcadas como privadas
  - Endpoints AJAX (like/comment/save) em conte√∫do privado
- Comportamento UX:
  - Usu√°rio sem acesso v√™ vitrine + CTA ‚ÄúLiberar acesso‚Äù
  - Usu√°rio com acesso v√™ tudo normalmente (inclusive no web mobile)

### 3.4 ‚Äî √Årea da Criadora (Gest√£o Comercial)
- Definir pre√ßo e regras do acesso (ex.: 7 dias, 30 dias, recorr√™ncia)
- Ver lista de assinantes/compradores (com filtros)
- Ver ganhos (relat√≥rio resumido)
- Conte√∫do: marcar posts como p√∫blicos/privados

---

## Fase 4 ‚Äî Administra√ß√£o e Auditoria (NOVA)
- Painel Admin:
  - Gest√£o de contas e status
  - Modera√ß√£o de conte√∫do (remo√ß√£o/bloqueio)
  - Auditoria: a√ß√µes sens√≠veis (pagamentos, libera√ß√µes, bans)
- Relat√≥rios:
  - Por criadora (per√≠odo)
  - Por transa√ß√µes (pendente/pago/estornado)
  - Por ‚Äúentitlements‚Äù ativos/expirados

---

## Fase 5 ‚Äî Performance e Escalabilidade
- Cache (p√°ginas mais acessadas e endpoints de feed/explore)
- Jobs em background:
  - expirar entitlements
  - processar m√≠dia (compress√£o/formatos)
  - tarefas de notifica√ß√£o
- Otimiza√ß√µes SQL (√≠ndices, pagina√ß√£o eficiente, queries do feed)

---

## Fase 6 ‚Äî Produ√ß√£o (Docker, CI/CD, Seguran√ßa)
- Docker + docker-compose (web + db + worker)
- CI/CD (testes + lint + deploy)
- Observabilidade:
  - logs estruturados
  - m√©tricas b√°sicas
  - alertas de falha de webhook
- Seguran√ßa:
  - rate limiting em endpoints sens√≠veis
  - prote√ß√£o CSRF e hardening de sess√µes
  - valida√ß√£o rigorosa de upload

---

## Fase 7 ‚Äî Experi√™ncia ‚ÄúWeb Mobile‚Äù (refino final)
- Refinar Mobile First:
  - navega√ß√£o inferior consistente
  - paywall com UX claro (CTA, estado do pagamento)
  - telas de acesso e hist√≥rico do usu√°rio
- Testes finais em:
  - Android Chrome
  - iOS Safari
  - Desktop

---